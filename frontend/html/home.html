<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GAIA | Home</title>

  <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">

  <link rel="stylesheet" href="/static/css/styles.css" />
  <link rel="stylesheet" href="/static/css/home.css" />
</head>
<body>
  <div class="main">
    <div class="left-panel">
      <video id="webcam" autoplay muted></video>
      <div class="status" id="statusMessages">
        <p>System OK. Awaiting command...</p>
      </div>
    </div>

    <div class="center-panel">
      <img src="/static/assets/images/logo.webp" alt="GAIA Logo" class="gaia-logo" />
    </div>

    <div class="right-panel">
      <div class="response-box" id="gaiaResponse">
        <p>Hello Gabe. What would you like me to do?</p>
      </div>
    </div>
  </div>

  <div class="widgets">
    <div class="widget" id="widget1">Widget 1</div>
    <div class="widget" id="widget2">Widget 2</div>
    <div class="widget" id="widget3">Widget 3</div>
    <div class="widget" id="widget4">Widget 4</div>
  </div>

  <script>
    const webcam = document.getElementById('webcam');
    navigator.mediaDevices.getUserMedia({ video: true, audio: false })
      .then(stream => { webcam.srcObject = stream; })
      .catch(err => {
        document.getElementById("statusMessages").innerHTML += `<p>Error: ${err.message}</p>`;
      });

    function updateStatus(msg) {
      const statusDiv = document.getElementById('statusMessages');
      statusDiv.innerHTML += `<p>${msg}</p>`;
      statusDiv.scrollTop = statusDiv.scrollHeight;
    }

    function updateGAIAResponse(text) {
      const responseBox = document.getElementById('gaiaResponse');
      responseBox.innerHTML = `<p>${text}</p>`;
    }
  </script>
</body>
</html>
